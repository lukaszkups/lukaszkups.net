<!DOCTYPE html><html><head><meta charset="utf-8"><meta content="text/html;charset=utf-8" http-equiv="Content-Type"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content=""><meta name="keywords" content="vue.js, vue, js, javascript, programming, development, front-end, front-end developer, front-end development, architecture, spa, single page apps, single page application, web development, vuex"><link rel="icon" type="image/png" href="/assets/img/favicon-192x192.png" sizes="192x192"><link rel="preload" href="/assets/fonts/Bebas.eot" as="font" crossorigin="anonymous"><link rel="preload" href="/assets/fonts/Bebas.woff" as="font" crossorigin="anonymous"><link rel="preload" href="/assets/fonts/Bebas.ttf" as="font" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/main.css" type="text/css"><title>How to save time when defining computed properties</title></head><body class="dark"><header><div class="main-container nav-container"><div class="logo-wrapper" id="logo"><div class="logo"></div></div><nav><ul><li><a href="/" data-hover="Home">Home</a></li><li><a href="/about" data-hover="About">About</a></li><li class="active"><a href="/notes" data-hover="Writing">Writing</a></li><li><a href="/projects" data-hover="Projects">Projects</a></li><li><a href="/experience" data-hover="CV">CV</a></li></ul></nav></div></header><div class="content notes-content"><div class="note-list-entry__wrapper"><div class="note-list-entry"><h1>How to save time when defining computed properties</h1><div class="published">Published at 2019/06/18</div><article><blockquote>
  <p>Hi again! I'm alive and so this blog as well - just not spending so much time after work on it as I would like to - but will try my best from now!</p>
</blockquote>
<p>When you want to define read-only computed property that is purely based on vuex, you write something like this:</p>
<pre><code>computed: {
  myComputedProperty () {
    return this.$store.state.myFancyModule.myFancyPropertyFromStore
  }
}</code></pre>
<p>Usually, when I create new vuex module, the first thing I add is <code>updateProp</code> action and mutation:</p>
<pre><code>const actions = {
  updateProp ({commit}, payload) {
    commit('updateProp', payload)
  }
}

const mutations = {
  updateProp (state, payload) {
    state[payload.propName] = payload.newVal
  }
}</code></pre>
<p>This way I have defined the very basic methods to manage values of my vuex module properties.</p>
<p>Based on this, you can now define a computed property with getter and setter like:</p>
<pre><code>computed: {
  myComputedProperty: {
    get () {
      return this.$store.state.myFancyModule.myFancyPropertyFromStore
    },
    set (newVal) {
      this.$store.dispatch('myFancyModule/updateProp', {propName: 'myFancyPropertyFromStore', newVal: newVal})
    }
  }
}</code></pre>
<p>But this might take too much time and space to write again and again, for multiple properties per component right?</p>
<p>Lets create a helper method then!</p>
<pre><code>export const computedValueHelper = (vuexModuleName, vuexPropertyName) =&gt; {
  return {
    get () {
      return this.$store.state[vuexModuleName][vuexPropertyName]
    },
    set (newVal) {
      this.$store.dispatch(`${vuexModuleName}/updateProp`, {propName: vuexPropertyName, newVal: newVal})
    }
  }
}</code></pre>
<p>Now, we can import it directly to our component and define computed properties (with getter and setter already) like this:</p>
<pre><code>import { computedValueHelper } from '@/helpers/globalHelpers'

export default {
  name: 'MyFancyComponent',
  computed: {
    myFancyLocalComputedProp: computedValueHelper('myFancyModule', 'myFancyPropertyFromStore')
  }
}</code></pre>
<p>Voila! You can now quickly &amp; easily define your computed properties like a boss :)</p>
<p>If you're working on legacy codebase that have already defined multiple various store methods to update properties in every module, you can enhance helper method e.g. like this:</p>
<pre><code>export const computedValueHelper = (vuexModuleName, vuexPropertyName, vuexUpdatePropMethodName, vuexNewPropPropName, vuexNewValPropName) =&gt; {
  return {
    get () {
      return this.$store.state[vuexModuleName][vuexPropertyName]
    },
    set (newVal) {
      let updatePayload = {}
      updatePayload[vuexNewPropPropName || 'propName'] = vuexPropertyName
      updatePayload[vuexNewValPropName || 'newVal'] = newVal
      this.$store.dispatch(`${vuexModuleName}/${vuexUpdatePropMethodName || 'updateProp'}`, updatePayload)
    }
  }
}</code></pre>
<p>This one might look a bit weird, but then you can use it to your unusual modules as well:</p>
<pre><code>computed: {
  myFancyLocalComputedProp: computedValueHelper('myFancyModule', 'myFancyPropertyFromStore'), // thanks to values fallback, you don't need to add additional props if your updateProp method looks like mine!
  otherFancyComputedProp: computedValueHelper('bModule', 'otherFancyProp', 'updateBModulePropName', 'bModulePropName', 'newValue')
}</code></pre>
<p>Based on second computed property, you can assume that I have defined in my <code>bModule</code> vuex module an update action and mutation that looks like this:</p>
<pre><code>const actions = {
  updateBModulePropName ({commit}, payload) {
    commit('updateBModulePropName', payload)
  }
}

const mutations = {
  updateBModulePropName (state, payload) {
    state[payload.bModulePropName] = payload.newValue
  }
}</code></pre>
<p><a href="https://codesandbox.io/s/86tqt" target="_blank">Here</a> you can see this in action - I hope you'll find it handy in your projects!</p>
<p>-- ł.</p></article><div class="published"><p>Categories:<a class="category-link" href="/notes/?category=vue.js">vue.js</a><a class="category-link" href="/notes/?category=programming">programming</a><a class="category-link" href="/notes/?category=tech">tech</a></p><p>Tags:<a class="category-link" href="/notes/?tag=vue.js">vue.js</a><a class="category-link" href="/notes/?tag=vue">vue</a><a class="category-link" href="/notes/?tag=js">js</a><a class="category-link" href="/notes/?tag=javascript">javascript</a><a class="category-link" href="/notes/?tag=programming">programming</a><a class="category-link" href="/notes/?tag=development">development</a><a class="category-link" href="/notes/?tag=front-end">front-end</a><a class="category-link" href="/notes/?tag=front-end developer">front-end developer</a><a class="category-link" href="/notes/?tag=front-end development">front-end development</a><a class="category-link" href="/notes/?tag=architecture">architecture</a><a class="category-link" href="/notes/?tag=spa">spa</a><a class="category-link" href="/notes/?tag=single page apps">single page apps</a><a class="category-link" href="/notes/?tag=single page application">single page application</a><a class="category-link" href="/notes/?tag=web development">web development</a><a class="category-link" href="/notes/?tag=vuex">vuex</a></p></div></div></div></div><footer><div class="main-container footer-container"><div class="row"><div class="col-25"><ul><li class="title">Links</li><li><a href="/">Home</a></li><li><a href="/about">About</a></li><li><a href="/notes">Writing</a></li><li><a href="/projects">Projects</a></li><li><a href="/experience">CV</a></li></ul></div><div class="col-25"><ul><li class="title">Projects</li><li><a href="https://github.com/lukaszkups">Open Source Code</a></li><li><a href="https://store.steampowered.com/app/1935130/Terry_Poorflyer/">Terry Poorflyer PC game</a></li><li><a href="https://lukaszkups.itch.io/">Game prototypes</a></li></ul></div><div class="col-25"><ul><li class="title">Categories</li><li><a href="/notes/?tag=programming">Programming</a></li><li><a href="/notes/?tag=vue">Vue.js</a></li><li><a href="/notes/?tag=reviews">Reviews</a></li><li><a href="/notes/?tag=thoughts">Thoughts</a></li></ul></div><div class="col-25"><ul><li class="title">Social</li><li><a href="https://twitter.com/lukaszkups">Twitter</a></li><li><a href="https://github.com/lukaszkups">GitHub</a></li><li><a href="https://linkedin.com/in/lukaszkups">LinkedIn</a></li><li><a href="https://gum.co/tATgO?wanted=true" target="_blank">Buy me a coffee</a></li></ul></div></div><div class="row copyrights">©&nbsp;<span id="year">2020</span>&nbsp;lukaszkups. All Rights Reserved.</div></div></footer><script src="/assets/js/main.js"></script><script src="https://gumroad.com/js/gumroad.js"></script></body></html>